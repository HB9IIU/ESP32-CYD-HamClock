<!DOCTYPE html>
<html class="bg-dark" lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        <title>iro.js in Bootstrap Grid</title>
        <!-- Bootstrap 5 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <!-- iro.js CDN -->
        <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
        <style>#colorPicker { margin: 0 auto; display: block; }</style>
        <link href="https://fonts.googleapis.com/css?family=Victor+Mono&display=swap" rel="stylesheet">
        <style>.time-container { border: 4px solid #000;  /* Default border color */ border-radius: 10px;  /* Rounded corners */ padding: 10px 20px;  /* Padding around the text */ display: inline-block;  /* Allow the container to adjust width based on content */ text-align: center; font-family: 'Victor Mono', monospace; font-size: 40px; font-weight: 700; } .form-check { display: flex; align-items: center; margin-bottom: 10px;  /* Spacing between lines */ } .form-check input { margin-right: 10px;  /* Space between radio button and label */ } .color-picker-container { display: inline-block; margin-left: 10px; } /* Create space between the two time containers */.time-container-wrapper { display: flex; gap: 30px;  /* Space between local and UTC time containers */ } /* Scrolling banner animation */.weather-banner { white-space: nowrap; overflow: hidden; width: 100%;  /* Full width container */ display: flex; justify-content: center; margin-top: 20px; } .weather-banner-text { animation: scrollText 10s linear infinite; font-size: 30px; } /* Define the scrolling animation */@keyframes scrollText { 0% {  transform: translateX(100%); }  100% {  transform: translateX(-100%); } }</style>
        <link href="https://fonts.googleapis.com/css?family=Orbitron&display=swap" rel="stylesheet">
    </head>
    <body class="bg-dark">
        <div class="bg-dark container py-5">
            <div class="row" data-pg-collapsed>
                <p class="text-center text-white" style="font-family: 'Orbitron', sans-serif; font-size: 30px; font-weight: 700; margin-bottom: 30px; letter-spacing: 3px;">
            HB9IIU HamClock Configurator</p>
            </div>
            <div class="row">
                <!-- First Column: Time Display -->
                <div class="col-md-12">
                    <div class="container" data-pg-collapsed>
                        <!-- Time Containers with Flex to create a gap -->
                        <div class="row" data-pg-collapsed>
                            <div class="col-md-6">
                                <p class="text-center text-white" style="font-size: 26px; font-family: 'Orbitron', sans-serif; font-weight: 400;">Local
                            Time</p>
                            </div>
                            <div class="col-md-6">
                                <p class="text-center text-white" style="font-size: 26px; font-family: 'Orbitron', sans-serif; font-weight: 400;">UTC Time</p>
                            </div>
                        </div>
                        <div class="row" data-pg-collapsed>
                            <div class="col-md-6" style="text-align: center;">
                                <div class="time-container" id="localTime" style="font-family: 'Victor Mono', monospace; font-size: 40px; font-weight: 700;">00:00:00
</div>
                            </div>
                            <div class="col-md-6" style="text-align: center;">
                                <div class="time-container" id="utcTime" style="font-family: 'Victor Mono', monospace; font-size: 40px; font-weight: 700;">00:00:00
</div>
                            </div>
                        </div>
                        <div class="row" data-pg-collapsed>
                            <div class="col-md-6" style="text-align: center;">
                                <h3 class="text-center text-secondary" style="margin-top: -10px; font-family: 'Orbitron', sans-serif; font-size: 16px; text-align: center;"> <div contenteditable="true" id="columnTitleLocalTime" style="display: inline; background-color: black; color: white; padding: 0 5px; font-size: 16px; font-family: 'Orbitron', sans-serif;">
                                        Column title
</div> </h3>
                            </div>
                            <div class="col-md-6" style="text-align: center;">
                                <h3 class="text-center text-secondary" style="margin-top: -10px; font-family: 'Orbitron', sans-serif; font-size: 16px; text-align: center;"> <div contenteditable="true" id="columnTitleUTCtime" style="display: inline; background-color: black; color: white; padding: 0 5px; font-size: 16px; font-family: 'Orbitron', sans-serif;">
                                        Column title
</div> </h3>
                            </div>
                        </div>
                        <div class="row" data-pg-collapsed style="margin-top: 8px;">
                            <div class="col-md-6 d-flex justify-content-center align-items-center" data-pg-collapsed>
                                <div class="row" style="margin-top: 15px; text-align: center;">
                                    <div class="col-md-6 d-flex justify-content-center">
                                        <div class="form-check" style="font-size: 20px;">
                                            <input class="form-check-input" id="line3" name="line" onclick="setColorTarget('localTimeDigits')" style="font-size: 18px;" type="radio" value="line3">
                                            <label class="form-check-label text-white" for="line3" style="font-family: 'Orbitron', sans-serif; font-size: 18px;">
                                                Digits
</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 d-flex justify-content-center">
                                        <div class="form-check" style="font-size: 20px;">
                                            <input class="form-check-input" id="line4" name="line" onclick="setColorTarget('localTimeFrame')" style="font-size: 18px;" type="radio" value="line4">
                                            <label class="form-check-label text-white" for="line4" style="font-size: 18px; font-family: 'Orbitron', sans-serif;">
                                                Frame
</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex justify-content-center align-items-center" data-pg-collapsed>
                                <div class="row" data-pg-collapsed style="margin-top: 15px;">
                                    <div class="col-md-6 d-flex justify-content-center">
                                        <div class="form-check d-flex justify-content-center">
                                            <input class="form-check-input" id="line5" name="line" onclick="setColorTarget('utcTimeDigits')" style="font-size: 18px;" type="radio" value="line5">
                                            <label class="form-check-label text-white" for="line5" style="font-size: 18px; font-family: 'Orbitron', sans-serif;">
                                                Digits
</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 d-flex justify-content-center">
                                        <div class="form-check d-flex justify-content-center">
                                            <input class="form-check-input" id="line6" name="line" onclick="setColorTarget('utcTimeFrame')" style="font-size: 18px;" type="radio" value="line6">
                                            <label class="form-check-label text-white" for="line6" style="font-size: 18px; font-family: 'Orbitron', sans-serif;">
                                                Frame
</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" data-pg-collapsed>
                            <div class="col-md-6 float-none text-center"> 
                                <input class="form-check-input" id="thinBorderCheckbox" onclick="toggleBorderThickness()" style="font-size: 18px;" type="checkbox">
                                <label class="form-check-label text-white" for="thinBorderCheckbox" style="font-size: 18px; font-family: 'Orbitron', sans-serif;">
                                    Thin Border
</label>
                            </div>
                            <div class="col-md-6 float-none text-center"> 
                                <input class="form-check-input" id="italicFontsBorderCheckbox" onclick="toggleBorderThickness()" style="font-size: 18px;" type="checkbox">
                                <label class="form-check-label text-white" for="thinBorderCheckbox" style="font-size: 18px; font-family: 'Orbitron', sans-serif;">
                                    Italic Fonts
</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="text-white weather-banner" data-pg-collapsed style="font-family: 'Orbitron', sans-serif;">
                                <div class="bg-dark weather-banner-text" id="weatherBannerText" style="color: #915656;">Local
                                    Weather Information and
                                    Astronomical Data
</div>
                            </div>
                            <!-- Slider for adjusting the scrolling speed -->
                            <div class="row" data-pg-collapsed style="margin-top: 20px;">
</div>
                            <div class="form-check d-flex justify-content-center" data-pg-collapsed>
                                <input class="form-check-input" id="line7" name="line" onclick="setColorTarget('weatherBannerText')" style="font-size: 18px;" type="radio" value="line7">
                                <label class="form-check-label text-white" for="line7" style="font-size: 18px; font-family: 'Orbitron', sans-serif;">
                                    Weather Info Banner
</label>
                            </div>
                            <div class="col-md-12 text-center">
                                <div class="row" style="margin-bottom: 20px; display: flex; justify-content: center;">
                                    <input id="speedSlider" max="30" min="5" step="1" style="width: 80%; margin-top: 10px;" type="range" value="10">
                                </div>
                            </div>
                        </div>
                        <div class="row" data-pg-collapsed>
                            <div class="col-md-6 text-center" data-pg-collapsed>
                                <p class="text-white" style="font-family: 'Orbitron', sans-serif; font-size: 20px;">Latitude</p>
                                <input style="font-family: 'Orbitron', sans-serif; text-align: center;">
                            </div>
                            <div class="col-md-6 text-center"> 
                                <p class="text-white" style="font-family: 'Orbitron', sans-serif; font-size: 20px;">
                            Longitude</p>
                                <input style="font-family: 'Orbitron', sans-serif; text-align: center;">
                            </div>
                        </div>
                        <!-- Checkbox for Thin Border -->
                        <!-- Weather Banner Section -->
                        <!-- Radio Button for Changing Banner Color -->
                    </div>
                </div>
                <!-- Second Column: Color Picker -->
            </div>
            <div class="row">
                <div class="col-12" style="text-align: center;" data-pg-collapsed>
                    <div class="color-picker-container" id="colorPicker" style="display: inline-block;">
                        <div class="IroColorPicker" style="display: block;"></div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-auto">
                    <button type="button" id="saveAllButton" class="btn btn-light" style="font-family: 'Orbitron', sans-serif; font-weight: 700;">
                        Save All To Flash Memory
</button>
                </div>
            </div>
        </div>
        <!-- Bootstrap JS (optional) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Initialize iro.js -->
        <script>
    // Create one color picker for all elements
    const colorPicker = new iro.ColorPicker("#colorPicker", {
        width: 200,
        color: "#76c72a"
    });

    // Initialize the target element for color change (initially set to localTimeDigits)
    let currentTarget = 'localTimeDigits';

    // Function to set the target element for color change
    function setColorTarget(target) {
        currentTarget = target;
        console.log("Selected target: ", target);
    }

    // Listen to color changes and update the selected element's color
    colorPicker.on("color:change", function (color) {
        if (currentTarget === 'localTimeDigits') {
            document.getElementById("localTime").style.color = color.hexString;
        } else if (currentTarget === 'localTimeFrame') {
            document.getElementById("localTime").style.borderColor = color.hexString;
        } else if (currentTarget === 'utcTimeDigits') {
            document.getElementById("utcTime").style.color = color.hexString;
        } else if (currentTarget === 'utcTimeFrame') {
            document.getElementById("utcTime").style.borderColor = color.hexString;
        } else if (currentTarget === 'weatherBannerText') {
            document.getElementById("weatherBannerText").style.color = color.hexString;
        }
    });

    // Function to format the time as HH:MM:SS
    function formatTime(date) {
        let hours = date.getHours();
        let minutes = date.getMinutes();
        let seconds = date.getSeconds();

        // Add leading zeros if the numbers are less than 10
        hours = hours < 10 ? '0' + hours : hours;
        minutes = minutes < 10 ? '0' + minutes : minutes;
        seconds = seconds < 10 ? '0' + seconds : seconds;

        return `${hours}:${minutes}:${seconds}`;
    }

    // Function to update the current local and UTC time
    function updateTime() {
        const localTime = new Date();
        const utcTime = new Date(localTime.toUTCString()); // Create a UTC version of the local time

        // Format the times
        const formattedLocalTime = formatTime(localTime);
        const formattedUtcTime = formatTime(utcTime);

        // Update the labels with the respective times
        document.getElementById("localTime").innerText = formattedLocalTime;
        document.getElementById("utcTime").innerText = formattedUtcTime;
    }

    // Call updateTime every second to keep the times updated
    setInterval(updateTime, 1000);
    updateTime(); // Initial call to set the times immediately

    // Function to toggle the border thickness
    function toggleBorderThickness() {
        const thinBorderCheckbox = document.getElementById("thinBorderCheckbox");

        // Check the checkbox state and adjust border thickness
        if (thinBorderCheckbox.checked) {
            // Thin border
            document.getElementById("localTime").style.borderWidth = "3px";
            document.getElementById("utcTime").style.borderWidth = "3px";
        } else {
            // Thick border
            document.getElementById("localTime").style.borderWidth = "6px";
            document.getElementById("utcTime").style.borderWidth = "6px";
        }
    }

    // Get the slider and the weather banner text
    const speedSlider = document.getElementById('speedSlider');
    const weatherBannerText = document.getElementById('weatherBannerText');

    // Set the initial animation duration (10 seconds as default)
    let speed = speedSlider.value;

    // Update the animation duration of the scrolling text (inverted)
    weatherBannerText.style.animationDuration = (31 - speed) + 's'; // Inverted slider logic

    // Add an event listener to the slider to change the scroll speed
    speedSlider.addEventListener('input', function () {
        speed = speedSlider.value;
        weatherBannerText.style.animationDuration = (31 - speed) + 's'; // Inverted slider logic
    });


</script>
    </body>
</html>
